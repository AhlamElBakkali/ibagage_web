<app-menu></app-menu>
<div class="absolute bg-white h-fit rounded-3xl p-8 mx-10 lg:mx-40 md:mx-28 sm:mx-20 mt-28 shadow" style="width: -webkit-fill-available;">
  <div [attr.dir]="getDirection()" class="w-full h-[70vh]">
    <div class="flex w-full justify-center gap-x-10 pb-6">
      <div class="relative">
        <input id="pac-input" type="text" [(ngModel)]="vars.searchText" class="xl:w-[37rem] md:w-[18rem] sm:w-[12rem]" [placeholder]="'SEARCH' | translate">
        <button class="absolute right-0 top-0 mt-2 mr-3" (click)="vars.searchText = ''">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="gray" class="h-8 w-4">
            <path fill-rule="evenodd"
              d="M3.293 3.293a1 1 0 011.414 0L10 8.586l5.293-5.293a1 1 0 111.414 1.414L11.414 10l5.293 5.293a1 1 0 01-1.414 1.414L10 11.414l-5.293 5.293a1 1 0 01-1.414-1.414L8.586 10 3.293 4.707a1 1 0 010-1.414z"
              clip-rule="evenodd" />
          </svg>
        </button>
      </div>
      <p-dropdown [options]="getDataList('vehicules.liste_type_vehicules')" [(ngModel)]="vars.type_vehicule"
        optionLabel="name" [showClear]="true" [placeholder]="'TYPEVEHI' | translate" (ngModelChange)="onTypeVehiculeChange()">
        <ng-template pTemplate="selectedItem" let-selectedOption>
          <div class="flex align-items-center gap-x-3">
            <img [src]="'assets/vehicules/'+selectedOption.code + '.png'" style="width: 30px" />
            <div>{{selectedOption.libelle}}</div>
          </div>
        </ng-template>
        <ng-template let-vehicule pTemplate="item">
          <div class="flex align-items-center gap-x-3">
            <img [src]="'assets/vehicules/'+vehicule.code + '.png'" style="width: 30px" />
            <div>{{vehicule.libelle}}</div>
          </div>
        </ng-template>
      </p-dropdown>
    </div>
    <div class="h-full border-none">
      <div #map id="map" class="h-[90%] w-full shadow border-0 rounded-lg"></div>
    </div>
    <div class="absolute bottom-[10.5rem] cursor-pointer left-[3.5rem] text-center">
      <div
        class="bg-white cursor-pointer dark:bg-night-500 p-2 rounded-full w-fit ml-2 shadow-[0px_4px_16px_rgba(17,17,26,0.1),_0px_8px_24px_rgba(17,17,26,0.1),_0px_16px_56px_rgba(17,17,26,0.1)]"
        (click)="getGeoLocation()">
        <svg fill="#6B50F6" height="24px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 51.636 51.636" xml:space="preserve">
          <path d="M51.353,0.914c-0.295-0.305-0.75-0.39-1.135-0.213L0.583,23.481c-0.399,0.184-0.632,0.605-0.574,1.041
            s0.393,0.782,0.826,0.854l22.263,3.731l2.545,21.038c0.054,0.438,0.389,0.791,0.824,0.865c0.057,0.01,0.113,0.015,0.169,0.015
            c0.375,0,0.726-0.211,0.896-0.556l24-48.415C51.72,1.675,51.648,1.218,51.353,0.914z" />
        </svg>
      </div>
    </div>
  </div>
  <div class="pt-8 flex justify-center">
    <button (click)="createAnnonce()"
      class="bg-primary px-10 cursor-pointer py-2 hover:bg-secondary text-white rounded-lg shadow-[-10px_-10px_30px_4px_rgba(0,0,0,0.1),_10px_10px_30px_4px_rgba(45,78,255,0.15)]">
      {{'ANNADD' | translate}}</button>
  </div> 
</div>
